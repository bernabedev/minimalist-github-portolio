---
import { data } from "@data";
import Button from "@ui/button.astro";
import CardContent from "@ui/card/card-content.astro";
import Card from "@ui/card/card.astro";
import { Image } from "astro:assets";

const { name, title, description, socials, contact } = data.profile;
---

<Card>
  <CardContent className="pt-6">
    <div class="flex flex-col items-start gap-2">
      <div
        class="flex flex-row md:flex-col items-center md:items-start w-full gap-4"
      >
        <Image
          width={150}
          height={150}
          quality={100}
          src="/avatar.webp"
          alt="Profile Picture"
          class="rounded-full size-12 md:w-full h-auto object-cover"
        />
        <div class="flex flex-col items-start justify-center">
          <h1 class="font-bold md:mt-4 text-xl md:text-2xl">{name}</h1>
          <p class="text-sm md:text-base text-muted-foreground">
            {title}
          </p>
        </div>
      </div>
      <p class="mt-2 text-start text-sm text-muted-foreground">
        {description}
      </p>
      <a target="_blank" href={contact.link} class="font-semibold w-full">
        <Button className="mt-4 w-full">
          {contact.label}
        </Button>
      </a>
      <div
        class="mt-4 flex flex-col space-y-2 border-t border-border pt-4 w-full"
      >
        {
          socials.map((s, i) => {
            const parts = s.link.split("/");
            const username = parts[parts.length - 1];
            return (
              <a
                href={s.link}
                target="_blank"
                aria-label={`${s.name} Logo`}
                class="cursor-pointer flex items-center gap-2 group"
              >
                {s.icon && <s.icon class="size-4" />}
                <p class="text-sm text-muted-foreground group-hover:text-primary transition-color duration-200 ease-linear">
                  /{username}
                </p>
              </a>
            );
          })
        }
      </div>
    </div>
  </CardContent>
</Card>
